import configparser
# 创建ConfigParser对象
config = configparser.ConfigParser()

# 读取INI文件
config.read('config.ini')

# 获取API Key
api_key = config['DEFAULT']['api_key']
from zhipuai import ZhipuAI
text = '''给这张图片看五个维度进行打分，返回格式{"审美契合力":xx,"文化接受力": xx, "工艺适配力":xx, "视觉冲击力":xx, "市场差异力":xx} 其中xx为整型的分数
一、审美契合力（30分）
评估设计风格、色彩与北美家居主流趋势的匹配度

主流风格匹配（10分）
• 5分：精准匹配美式现代、波西米亚、极简、乡村田园等北美热销风格
• 3分：符合细分市场风格（如复古工业风、Japandi）
• 1分：实验性设计，受众较小色彩趋势前瞻性（8分）
• 参考 Pantone年度色 + 北美家居流行色数据库
• 采用当季流行色，每使用1个得2分（最高8分）家居搭配适配性（6分）
• 是否适用于北美高频装修风格（3分）
• 是否与家具、地板颜色协调（3分）季节适应性（6分）
• 是否可用于四季场景（3分）
• 是否具有节庆元素（感恩节、圣诞节、春夏换季）
二、文化接受力（20分）
评估设计元素的文化包容性与市场接受度

文化安全指数（8分）
• 0分：涉及宗教、种族、政治敏感元素
• 5分：使用中性图案（几何、植物、抽象）
• 8分：融合多文化基因的创新元素（如波西米亚+现代简约）区域偏好匹配（6分）
• 是否符合北美东西海岸、南部、新英格兰等区域审美
• 每覆盖1个主要区域得2分代际穿透力（6分）
• 是否适合千禧一代（3分）和Z世代（3分）

三、工艺适配力（15分）
评估生产工艺的可行性与成本控制

1.织造工艺可实现性（5分）
• 机织可量产（3分）
• 色纱切换≤3次（2分）
2.印染经济性（5分）
• 环保染料控制：是否符合OEKO-TEX认证（3分）
• 色彩饱和度与渐变过渡自然度（2分）
3.材质与触感优化（5分）
• 采用北美高认可度材质（如PET回收纤维、羊毛、聚丙烯）（3分）
• 耐磨测试、抗污易清洁表现（2分）
四、视觉冲击力（20分）
评估产品的视觉表现力，提高电商转化率

1.手机端缩略图吸引力（8分）
• 高对比度，远距离可识别（5分）
• 部色搭配科学，ΔE≥15（3分）
2.空间感与层次表现（6分）
• 立体感强，视觉深度明显（3分）
• 近景细节丰富，不显平面化（3分）
3.光照适应性（6分）
• 不同光照条件下颜色稳定性（3分）
• 低反光率，适应不同环境（3分）
五、市场差异力（15分）
评估产品的市场竞争力与创新点

1.竞品差异化程度（8分）
• 核心设计元素与市场热销款重复率≤30%（5分）
• 可申请设计专利或独家图案（3分）
2.创新突破度（7分）
• 经典款改良（3分）
• 跨风格融合（4分，如极简+民族风）'''
client = ZhipuAI(api_key=api_key) # 填写您自己的APIKey
response = client.chat.completions.create(
    model="glm-4v",  # 填写需要调用的模型名称
    messages=[
       {
        "role": "user",
        "content": [
          {
            "type": "text",
            "text": text
          },
          {
            "type": "image_url",
            "image_url": {
                "url" : "https://image.distributetop.com/erp-vue/901161974801813504/20230518/394d09ff975f4c40a231b7a34358f826.png"
            }
          }
        ]
      }
    ]
)
print(response.choices[0].message)